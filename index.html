<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; script-src 'self'; img-src 'self' data:; connect-src 'self';">
    <meta name="description" content="Interactive particle physics simulator with gravity, electric fields, magnetic forces, and more">
    <meta name="keywords" content="physics, simulation, particles, interactive, canvas, javascript">
    <meta name="author" content="Zachary Sluss">
    <title>Particle Physics Sandbox</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Main Canvas -->
    <canvas id="canvas" role="img" aria-label="Interactive particle physics simulation"></canvas>

    <!-- Stats Panel -->
    <aside id="stats" role="region" aria-label="Simulation statistics">
        <div class="stat">
            Particles:
            <span id="particleCount" aria-live="polite">0</span>
        </div>
        <div class="stat">
            FPS:
            <span id="fps" aria-live="polite">60</span>
        </div>
        <div class="stat">
            Mode:
            <span id="mode" aria-live="polite">Gravity</span>
        </div>
    </aside>

    <!-- Control Panel -->
    <aside id="controls" role="region" aria-label="Simulation controls">
        <h3>Particle Controls</h3>

        <!-- Mode Selection -->
        <section aria-label="Physics modes">
            <button id="gravityBtn" aria-label="Switch to gravity mode">
                üåç Gravity Mode
            </button>
            <button id="electricBtn" aria-label="Switch to electric field mode">
                ‚ö° Electric Field
            </button>
            <button id="magneticBtn" aria-label="Switch to magnetic field mode">
                üß≤ Magnetic Field
            </button>
            <button id="blackholeBtn" aria-label="Switch to black hole mode">
                üåå Black Hole
            </button>
            <button id="repelBtn" aria-label="Switch to repulsion mode">
                üí´ Repulsion
            </button>
            <button id="dnaBtn" aria-label="Switch to DNA helix mode">
                üß¨ DNA Helix
            </button>
        </section>

        <!-- Physics Controls -->
        <section aria-label="Physics parameters">
            <div class="slider-container">
                <label for="forceStrength">
                    Force Strength:
                    <span id="forceValue" aria-live="polite">5</span>
                </label>
                <input
                    type="range"
                    id="forceStrength"
                    min="0"
                    max="20"
                    value="5"
                    aria-label="Adjust force strength from 0 to 20"
                >
            </div>

            <div class="slider-container">
                <label for="particleSize">
                    Particle Size:
                    <span id="sizeValue" aria-live="polite">3</span>
                </label>
                <input
                    type="range"
                    id="particleSize"
                    min="1"
                    max="5"
                    value="3"
                    aria-label="Adjust particle size from 1 to 5"
                >
            </div>
        </section>

        <!-- Action Buttons -->
        <section aria-label="Quick actions">
            <button id="clearBtn" aria-label="Clear all particles">
                üóëÔ∏è Clear All
            </button>
        </section>

        <!-- Particle Spawn Effects -->
        <section aria-label="Particle spawn effects">
            <h4>Particle Spawn Effects</h4>
            <button id="explosionBtn" aria-label="Create explosion effect">
                üí• Explosion
            </button>
            <button id="galaxyBtn" aria-label="Create galaxy formation">
                üåå Galaxy
            </button>
            <button id="rainBtn" aria-label="Start particle rain effect">
                üåßÔ∏è Particle Rain
            </button>
        </section>
    </aside>

    <!-- Info Panel -->
    <aside id="info" role="region" aria-label="Instructions">
        <strong>Controls:</strong><br>
        ‚Ä¢ Click/Drag: Spawn particles<br>
        ‚Ä¢ Right-Click: Add attractor<br>
        <strong>Keys:</strong> Space (pause) ‚Ä¢ C (clear) ‚Ä¢ E (explosion) ‚Ä¢ G (galaxy) ‚Ä¢ 1-6 (modes)
    </aside>

    <!-- Screen reader announcements -->
    <div role="status" aria-live="polite" class="sr-only" id="announcements"></div>

    <!-- Load JavaScript modules -->
    <script type="module" src="js/app.js"></script>

    <!-- Fallback for browsers without module support -->
    <noscript>
        <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
                    background: rgba(0,0,0,0.9); padding: 40px; border-radius: 20px;
                    text-align: center; z-index: 9999;">
            <h1 style="color: #0ff; margin-bottom: 20px;">JavaScript Required</h1>
            <p style="color: white; font-size: 16px;">
                This particle physics simulator requires JavaScript to run.<br>
                Please enable JavaScript in your browser settings.
            </p>
        </div>
    </noscript>
</body>
</html>
